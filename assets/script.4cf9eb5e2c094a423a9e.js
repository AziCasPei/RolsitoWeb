var MAX_WIDTH=1040,MAX_HEIGHT=555,TITLE_SPEED_MS=200,RELOAD_PAGE_H=2,HEADING_INITIAL_FONT_SIZE=46,PARAGRAPH_INITIAL_FONT_SIZE=28,MENU_ITEM_INITIAL_FONT_SIZE=22;function changeStyle(t,n,e){t&&(t.style.transition="opacity 1.5s, transform 1.5s",t.style.opacity=n,t.style.transform=e)}function initMenuToggle(){var t=document.getElementById("menu-toggle");t&&t.addEventListener("change",(function(){document.body.style.overflow=t.checked?"hidden":""}))}function initArticleStyles(){var t=document.querySelectorAll(".main__article");t.length&&t.forEach((function(t,n){Array.from(t.children).forEach((function(t){changeStyle(t,0,n%2==0?"translateX(-100%)":"translateX(100%)")}))}))}function initUpdateVisibility(){var t=document.querySelectorAll(".main__article");if(t.length){var n=function(){var n=window.scrollY||document.documentElement.scrollTop,e=t[t.length-1],o=e?e.offsetTop:0,i=0,r=null,c=window.matchMedia("screen and (max-width: ".concat(MAX_WIDTH,"px), screen and (max-height: ").concat(MAX_HEIGHT,"px)")).matches;t.forEach((function(t){var n=t.getBoundingClientRect(),e=Math.max(0,Math.min(n.bottom,window.innerHeight)-Math.max(n.top,0));e>i&&(i=e,r=t)})),t.forEach((function(e,a){Array.from(e.children).forEach((function(l){c?e===r&&i>0&&changeStyle(l,1,"translateX(0)"):e===r&&i>0?changeStyle(l,1,"translateX(0)"):a===t.length-1?n<o&&changeStyle(l,0,"translateX(100%)"):changeStyle(l,0,a%2==0?"translateX(-100%)":"translateX(100%)")}))}))};window.addEventListener("scroll",n),n()}}function initIntersectionObserver(){var t=document.querySelectorAll(".main__menu-item");if(t.length){var n=new IntersectionObserver((function(t){t.forEach((function(t){t.target.classList.toggle("visible",t.isIntersecting)}))}),{threshold:.1});t.forEach((function(t){return n.observe(t)}))}}function initSmoothScroll(){var t=function(t){var n=t.getBoundingClientRect().top+window.scrollY-.2*window.innerHeight;window.scrollTo({top:n,behavior:"smooth"})},n=document.querySelectorAll('a[href*="#"]');if(n.length){n.forEach((function(n){n.addEventListener("click",(function(n){if(new URL(this.href).pathname===window.location.pathname){n.preventDefault();var e=document.querySelector(this.hash);e&&t(e)}else n.preventDefault(),localStorage.setItem("smoothScrollTarget",this.hash),window.location.href=this.pathname+this.search}))}));!function(){var n=localStorage.getItem("smoothScrollTarget");if(n){var e=document.querySelector(n);e&&(window.scrollTo({top:0,behavior:"auto"}),requestAnimationFrame((function(){return t(e)}))),localStorage.removeItem("smoothScrollTarget")}}()}}function initImageClickListeners(){var t=document.querySelectorAll("img");t.length&&t.forEach((function(t){t.closest("a")||t.addEventListener("click",(function(){window.open(t.src,"_blank")}))}))}function initFitTextToContainer(){var t=document.querySelectorAll(".main__text-content"),n=document.querySelectorAll(".main__menu-item"),e=function(t){var n=t.querySelectorAll(".main__heading"),e=t.querySelectorAll(".main__paragraph");if(n.length&&e.length){var o=HEADING_INITIAL_FONT_SIZE,i=PARAGRAPH_INITIAL_FONT_SIZE;for(n.forEach((function(t){return t.style.fontSize="".concat(o,"px")})),e.forEach((function(t){return t.style.fontSize="".concat(i,"px")}));(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&(i=(o-=1)/HEADING_INITIAL_FONT_SIZE*PARAGRAPH_INITIAL_FONT_SIZE,n.forEach((function(t){return t.style.fontSize="".concat(o,"px")})),e.forEach((function(t){return t.style.fontSize="".concat(i,"px")})),!(o<=0||i<=0)););}},o=function(t){var n=MENU_ITEM_INITIAL_FONT_SIZE;t.style.fontSize="".concat(n,"px");for(var e=t.parentElement;t.scrollWidth>e.clientWidth&&(n-=1,t.style.fontSize="".concat(n,"px"),!(n<=0)););};t.forEach((function(t){return e(t)})),n.forEach((function(t){return o(t)})),window.addEventListener("resize",(function(){t.forEach((function(t){return e(t)})),n.forEach((function(t){return o(t)}))}))}function initTitleAnimation(){var t,n,e,o;t=document.title,n=TITLE_SPEED_MS,e=t+" ",(o=function(){document.title=e,e=e.substring(1)+e.charAt(0),setTimeout(o,n)})()}function initPageReloadCheck(){var t="lastFetch",n=(new Date).getTime();n-(localStorage.getItem(t)||0)>36e5*RELOAD_PAGE_H&&(localStorage.setItem(t,n),window.location.reload(!0))}function lockOrientation(){screen.orientation&&"function"==typeof screen.orientation.lock?screen.orientation.lock("portrait").then((function(){console.log("Orientation locked to portrait mode.")})).catch((function(t){console.error("Error locking orientation:",t)})):console.warn("Screen orientation lock API is not supported on this device.")}function setupAnchorLinks(){document.querySelectorAll(".main__menu-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n=this.getAttribute("href").substring(1),e=document.getElementById(n);e&&(e.scrollIntoView({behavior:"smooth"}),history.pushState(null,null,"#".concat(n)))}))}))}function initMenuItemsFlex(){var t=document.querySelectorAll(".main__menu-item");if(t.length){var n=0;t.forEach((function(t){var e=t.offsetWidth;e>n&&(n=e)})),t.forEach((function(t){t.style.flex="1 1 ".concat(n,"px")}))}}document.addEventListener("DOMContentLoaded",(function(){initMenuToggle(),initArticleStyles(),initUpdateVisibility(),initIntersectionObserver(),initSmoothScroll(),initImageClickListeners(),initFitTextToContainer(),initTitleAnimation(),initPageReloadCheck(),lockOrientation(),setupAnchorLinks()})),window.addEventListener("load",(function(){initMenuItemsFlex()}));